<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Earning App</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        :root {
            --primary-color: #5A5CFF;
            --secondary-color: #3C3E61;
            --background-color: #F0F2F5;
            --card-bg-color: #ffffff;
            --pop-up-bg-color: rgba(0, 0, 0, 0.7);
            --text-color: #333;
            --white-color: #ffffff;
            --card-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            --green-btn-bg: #2ecc71;
            --green-btn-hover: #27ae60;
            --blue-btn-bg: #3498db;
            --blue-btn-hover: #2980b9;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-y: auto;
        }
        .app-container {
            width: 100%;
            max-width: 450px;
            display: flex;
            flex-direction: column;
            background-color: var(--card-bg-color);
            box-shadow: var(--card-shadow);
            border-radius: 25px;
            overflow: hidden;
            position: relative;
            min-height: 100vh;
        }
        .main-content {
            flex-grow: 1;
            overflow-y: auto;
            padding: 20px 25px;
            padding-bottom: 80px;
        }
        .page-section {
            display: none;
        }
        .page-section.active {
            display: block;
        }
        /* Header */
        .app-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            background-color: var(--card-bg-color);
            border-bottom: 1px solid #e0e0e0;
            flex-shrink: 0;
        }
        .header-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin: 0;
            flex-grow: 1;
            text-align: center;
        }
        .back-btn, .action-btns {
            width: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .back-btn i {
            color: #888;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .action-btns .btn {
            background-color: var(--primary-color);
            color: var(--white-color);
            padding: 8px 12px;
            border-radius: 50%;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        .action-btns .btn {
            position: relative;
            width: 40px;
        }
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #ff3860;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.7rem;
            font-weight: 600;
            display: none;
        }
        /* Dashboard Section */
        #dashboard-view .dashboard-header {
            text-align: center;
            margin-bottom: 30px;
        }
        #dashboard-view .dashboard-header h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--secondary-color);
            margin: 0 0 5px 0;
        }
        #dashboard-view .dashboard-header p {
            font-size: 1rem;
            color: #888;
            margin: 0;
        }
        #dashboard-view .dashboard-header .telegram-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        #dashboard-view .dashboard-header .telegram-info i {
            color: #0088CC;
            font-size: 1.2rem;
        }
        /* New profile picture styles */
        .profile-picture {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 10px;
            border: 2px solid var(--primary-color);
        }
        .profile-header-info {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }
        .earn-card {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: var(--white-color);
            margin: 20px 0;
            padding: 25px;
            border-radius: 20px;
            position: relative;
            box-shadow: var(--card-shadow);
            overflow: hidden;
            text-align: center;
        }
        .earn-card h3 {
            font-size: 1.2rem;
            margin: 0 0 5px 0;
            font-weight: 600;
        }
        .earn-card p {
            font-size: 0.9rem;
            margin: 0 0 20px 0;
            opacity: 0.8;
        }
        .earn-card .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        .earn-now-btn, .daily-claim-btn {
            background-color: var(--white-color);
            color: var(--primary-color);
            border: none;
            padding: 12px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .earn-now-btn:hover, .daily-claim-btn:not(:disabled):hover {
            transform: translateY(-2px);
        }
        .daily-claim-btn:disabled {
            background-color: #ddd;
            color: #888;
            cursor: not-allowed;
            box-shadow: none;
        }
        .stats-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        .stat-card {
            background-color: var(--card-bg-color);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            text-align: center;
            transition: transform 0.2s;
        }
        .stat-card:hover {
            transform: translateY(-5px);
        }
        .stat-card .icon {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        .stat-card .amount {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
            color: var(--secondary-color);
        }
        .stat-card .label {
            font-size: 0.8rem;
            opacity: 0.7;
            margin: 0;
        }
        /* Refer & Earn Section (Colorful) */
        .refer-card {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: var(--white-color);
            padding: 25px;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            margin-top: 20px;
            text-align: center;
        }
        .refer-card h4 {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 0;
        }
        .refer-card p {
            font-size: 0.9rem;
            color: var(--white-color);
            opacity: 0.9;
            margin: 5px 0 0;
        }
        .refer-card .copy-btn {
            background-color: var(--white-color);
            color: var(--primary-color);
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.2s;
        }
        /* Task Page Section */
        #tasks-view .card {
            background-color: var(--card-bg-color);
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            margin-bottom: 20px;
            position: relative;
        }
        #tasks-view .card-header h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 0 0 20px 0;
            color: var(--secondary-color);
            position: relative;
            padding-bottom: 5px;
        }
        #tasks-view .card-header h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 3px;
            background-color: var(--primary-color);
            border-radius: 2px;
        }
        #tasks-view .task-stats {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }
        #tasks-view .stat-item {
            display: flex;
            justify-content: space-between;
            font-size: 1rem;
        }
        #tasks-view .stat-item .label {
            color: #888;
        }
        #tasks-view .stat-item .value {
            font-weight: 600;
            color: var(--secondary-color);
        }
        #tasks-view .stat-item.completed .value {
            color: var(--green-btn-bg);
        }
        #tasks-view .stat-item.remaining .value {
        }
        #tasks-view .progress-bar-container {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        #tasks-view .progress-bar {
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }
        #tasks-view .task-btn {
            background-color: var(--blue-btn-bg);
            color: var(--white-color);
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.4);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            transition: background-color 0.2s;
        }
        #tasks-view .task-btn:hover {
            background-color: var(--blue-btn-hover);
        }
        #tasks-view .daily-task-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-radius: 15px;
            background-color: #F8FAFB;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        #tasks-view .task-info h4 {
            margin: 0;
            font-weight: 600;
            color: var(--secondary-color);
        }
        #tasks-view .task-info p {
            margin: 5px 0 0 0;
            font-size: 0.9rem;
            color: var(--green-btn-bg);
            font-weight: 500;
        }
        #tasks-view .task-actions {
            display: flex;
            gap: 10px;
        }
        #tasks-view .action-button {
            border: 2px solid var(--green-btn-bg);
            color: var(--green-btn-bg);
            background-color: transparent;
            padding: 8px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: background-color 0.2s, color 0.2s;
        }
        #tasks-view .action-button.join {
            background-color: var(--green-btn-bg);
            color: var(--white-color);
        }
        #tasks-view .action-button.join:hover {
            background-color: var(--green-btn-hover);
        }
        #tasks-view .action-button.verify {
            background-color: var(--white-color);
            color: var(--green-btn-bg);
        }
        #tasks-view .action-button.verify:hover {
            background-color: #e8f5e9;
        }
        #tasks-view .action-button.verified {
            background-color: var(--green-btn-bg);
            color: var(--white-color);
            border-color: var(--green-btn-bg);
            cursor: not-allowed;
            opacity: 0.7;
        }
        /* Withdraw Page Section */
        #withdraw-view .balance-info {
            background-color: var(--card-bg-color);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: var(--card-shadow);
        }
        #withdraw-view .balance-info h3 {
            font-size: 1rem;
            font-weight: 600;
            color: #888;
            margin: 0;
        }
        #withdraw-view .balance-info p {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--secondary-color);
            margin: 5px 0 0 0;
        }
        .withdrawal-form {
            background-color: var(--card-bg-color);
            padding: 25px;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
        }
        .withdrawal-form h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--secondary-color);
            margin-top: 0;
            position: relative;
            padding-bottom: 5px;
            margin-bottom: 20px;
        }
        .withdrawal-form h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 3px;
            background-color: var(--primary-color);
            border-radius: 2px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            font-size: 0.9rem;
            font-weight: 600;
            color: #555;
            margin-bottom: 8px;
        }
        .input-group {
            position: relative;
        }
        .input-group i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #aaa;
        }
        .input-group select,
        .input-group input {
            width: 100%;
            padding: 12px 12px 12px 45px;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-sizing: border-box;
            font-size: 0.9rem;
            font-family: inherit;
            transition: border-color 0.2s;
        }
        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        .submit-btn {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            color: var(--white-color);
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            box-shadow: 0 4px 10px rgba(46, 204, 113, 0.4);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            transition: transform 0.2s;
        }
        .submit-btn:hover {
            transform: translateY(-2px);
        }
        /* Profile Page Section */
        #profile-view .profile-header {
            text-align: center;
            margin-bottom: 30px;
        }
        .profile-icon {
            width: 80px;
            height: 80px;
            background-color: var(--primary-color);
            color: var(--white-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            margin: 0 auto 10px auto;
            border: 2px solid var(--primary-color);
        }
        .profile-icon img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }
        #profile-view .profile-header h3 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--secondary-color);
        }
        #profile-view .profile-header p {
            margin: 0;
            font-size: 0.9rem;
            color: #888;
        }
        #profile-view .profile-details {
            background-color: var(--card-bg-color);
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            padding: 25px;
        }
        #profile-view .detail-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        #profile-view .detail-item:last-child {
            border-bottom: none;
        }
        #profile-view .detail-item .label {
            font-size: 0.9rem;
            font-weight: 600;
            color: #555;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        #profile-view .detail-item .value {
            font-size: 0.9rem;
            color: var(--secondary-color);
            font-weight: 500;
        }
        #profile-view .detail-item i {
            font-size: 1.2rem;
            color: var(--primary-color);
        }
        /* Notifications Page Section */
        #notifications-view .notification-list {
            padding: 0;
            margin: 0;
            list-style: none;
        }
        #notifications-view .notification-item {
            background-color: var(--card-bg-color);
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 15px;
            position: relative;
        }
        #notifications-view .notification-item.withdrawal {
            border-left: 5px solid var(--blue-btn-bg);
        }
        #notifications-view .notification-item.admin {
            border-left: 5px solid var(--green-btn-bg);
        }
        #notifications-view .notification-item .icon-container {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        #notifications-view .notification-item .content {
            flex-grow: 1;
        }
        #notifications-view .notification-item h4 {
            margin: 0;
            font-size: 1rem;
            font-weight: 600;
            color: var(--secondary-color);
        }
        #notifications-view .notification-item p {
            margin: 5px 0 0 0;
            font-size: 0.9rem;
            color: #555;
        }
        .status-badge {
            font-size: 0.8rem;
            padding: 4px 10px;
            border-radius: 50px;
            font-weight: 600;
            margin-top: 5px;
            display: inline-block;
        }
        .status-pending {
            background-color: #fffbe6;
            color: #f7b924;
            cursor: default;
        }
        .status-confirmed {
            background-color: #e6fff1;
            color: #2ecc71;
        }
        /* Pop-ups (Modal) */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: var(--pop-up-bg-color);
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s;
        }
        .modal-content {
            background-color: var(--white-color);
            margin: auto;
            padding: 30px;
            border-radius: 20px;
            width: 80%;
            max-width: 400px;
            position: relative;
            text-align: center;
            box-shadow: var(--card-shadow);
            animation: slideUp 0.3s;
        }
        .close-modal {
            color: #aaa;
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.2s;
        }
        .close-modal:hover {
            color: var(--primary-color);
        }
        .modal-content h3 {
            color: var(--secondary-color);
            margin-top: 0;
        }
        .modal-content .modal-subtitle {
            color: #555;
            font-size: 1rem;
            margin: -10px 0 20px;
        }
        .referral-link-box {
            background-color: #f0f0f0;
            border: 1px dashed #ccc;
            padding: 15px;
            border-radius: 10px;
            font-family: monospace;
            word-break: break-all;
            margin: 20px 0;
        }
        .copy-btn {
            background-color: var(--primary-color);
            color: var(--white-color);
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.2s;
        }
        .copy-btn:hover {
            background-color: #4a4cdb;
        }
        .share-buttons-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        .share-btn {
            background-color: #5A5CFF;
            color: var(--white-color);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .share-btn:hover {
            transform: translateY(-3px);
        }
        .share-btn.telegram { background-color: #0088CC; }
        .share-btn.whatsapp { background-color: #25D366; }
        .share-btn.facebook { background-color: #1877F2; }
        .referral-count {
            margin-top: 20px;
        }
        .referral-count p {
            font-size: 0.9rem;
            color: #555;
            margin: 0;
        }
        .referral-count span {
            font-weight: 600;
            color: var(--primary-color);
        }
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        /* Bottom Navigation Bar */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 450px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            background-color: var(--card-bg-color);
            border-top: 1px solid #e0e0e0;
            padding: 10px 0;
            flex-shrink: 0;
            z-index: 999;
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #aaa;
            text-decoration: none;
            font-size: 0.8rem;
            padding: 5px;
            transition: color 0.2s;
        }
        .nav-item i {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        .nav-item.active {
            color: var(--primary-color);
        }
        /* Floating Refer Now Button */
        .refer-btn-floating {
            position: fixed;
            bottom: 90px;
            right: 20px;
            z-index: 1000;
            background-color: #2ecc71;
            color: var(--white-color);
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(46, 204, 113, 0.4);
            display: flex;
            align-items: center;
            gap: 10px;
            transition: transform 0.2s, background-color 0.2s;
            display: none;
        }
        .refer-btn-floating i {
            font-size: 1.1rem;
        }
        .refer-btn-floating:hover {
            transform: scale(1.05);
            background-color: #27ae60;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <span class="back-btn" id="back-btn" style="display: none;"><i class="fas fa-arrow-left"></i></span>
            <h2 class="header-title" id="page-title">Dashboard</h2>
            <div class="action-btns">
                <div class="btn" id="notification-btn">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notification-badge">0</span>
                </div>
                <div class="btn"><i class="fas fa-bars"></i></div>
            </div>
        </header>

        <div class="main-content">
            <div id="dashboard-view" class="page-section active">
                <div class="dashboard-header">
                    <div class="profile-header-info">
                        <img id="telegram-logo" class="profile-picture" src="https://via.placeholder.com/60" alt="Profile Picture">
                        <div>
                            <h2 id="total-balance-display">0.00 VET</h2>
                            <div class="telegram-info">
                                <i class="fab fa-telegram"></i>
                                <p id="telegram-name-display">Telegram Name</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="earn-card">
                    <h3>Start Earning Today!</h3>
                    <p>Complete tasks and earn VET rewards.</p>
                    <div class="button-group">
                        <button class="earn-now-btn" data-target="tasks-view">
                            <i class="fas fa-tasks"></i> Earn Now
                        </button>
                    </div>
                </div>
                
                <section class="stats-section">
                    <div class="stat-card">
                        <div class="icon"><i class="fas fa-dollar-sign"></i></div>
                        <p class="amount" id="total-earnings-display">0.00 VET</p>
                        <p class="label">Total Earnings</p>
                    </div>
                    <div class="stat-card">
                        <div class="icon"><i class="fas fa-ad"></i></div>
                        <p class="amount" id="daily-ads-watched-count">0</p>
                        <p class="label">Ads Watched (Today)</p>
                    </div>
                </section>

                <div class="refer-card">
                    <h4>Refer & Earn</h4>
                    <p id="referral-bonus-text"></p>
                    <button class="copy-btn" id="open-referral-modal">
                        <i class="fas fa-users"></i> Refer Now
                    </button>
                </div>
            </div>

            <div id="tasks-view" class="page-section">
                <div class="card ad-tasks-card">
                    <div class="card-header">
                        <h3>Today's Ad Tasks</h3>
                    </div>
                    <div class="task-stats">
                        <div class="stat-item total">
                            <span class="label">Total Tasks:</span>
                            <span class="value" id="total-tasks">35</span>
                        </div>
                        <div class="stat-item completed">
                            <span class="label">Completed:</span>
                            <span class="value" id="completed-tasks">0</span>
                        </div>
                        <div class="stat-item remaining">
                            <span class="label">Remaining:</span>
                            <span class="value" id="remaining-tasks">35</span>
                        </div>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="task-progress" style="width: 0%;"></div>
                    </div>
                    <button class="task-btn" id="start-task-btn">
                        Start Task <i class="fas fa-play-circle"></i>
                    </button>
                </div>
                <div class="card daily-tasks-card">
                    <div class="card-header">
                        <h3>Daily Tasks</h3>
                    </div>
                    <div class="daily-task-item">
                        <div class="task-info">
                            <h4>Nexo Official</h4>
                            <p>Reward: VET 2.00</p>
                        </div>
                        <div class="task-actions">
                            <button class="action-button join">
                                Join <i class="fas fa-paper-plane"></i>
                            </button>
                            <button class="action-button verify">
                                Verify <i class="fas fa-check-circle"></i>
                            </button>
                        </div>
                    </div>
                    <div class="daily-task-item">
                        <div class="task-info">
                            <h4>NexoTGBot</h4>
                            <p>Reward: VET 2.00</p>
                        </div>
                        <div class="task-actions">
                            <button class="action-button join">
                                Join <i class="fas fa-paper-plane"></i>
                            </button>
                            <button class="action-button verify">
                                Verify <i class="fas fa-check-circle"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="withdraw-view" class="page-section">
                <div class="balance-info">
                    <h3>Available Balance:</h3>
                    <p id="available-balance">0.00 VET</p>
                </div>
                <div class="withdrawal-form">
                    <h3>Request Withdrawal</h3>
                    <div class="form-group">
                        <label for="withdrawal-method">Withdrawal Method</label>
                        <div class="input-group">
                            <i class="fas fa-wallet"></i>
                            <select id="withdrawal-method">
                                <option value="Binance">Binance</option>
                                <option value="Tron">Tron</option>
                                <option value="USDT">USDT</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="amount">Amount</label>
                        <div class="input-group">
                            <i class="fas fa-coins"></i>
                            <input type="number" id="amount" placeholder="Enter amount">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="id-input" id="id-label">Binance ID</label>
                        <div class="input-group">
                            <i class="fas fa-id-card"></i>
                            <input type="text" id="id-input" placeholder="Enter Binance ID">
                        </div>
                    </div>
                    <button class="submit-btn" id="submit-withdrawal">
                        Submit Withdrawal <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <div id="profile-view" class="page-section">
                <div class="profile-header">
                    <div class="profile-icon">
                        <img id="profile-logo" src="https://via.placeholder.com/80" alt="Profile Picture">
                    </div>
                    <h3 id="profile-username">User</h3>
                    <div class="telegram-info">
                        <i class="fab fa-telegram"></i>
                        <p id="profile-telegram-name">Telegram Name</p>
                    </div>
                </div>
                <div class="profile-details">
                    <div class="detail-item">
                        <div class="label"><i class="fas fa-sack-dollar"></i>Total Withdrawals</div>
                        <div class="value" id="profile-total-withdrawals">0.00 VET</div>
                    </div>
                    <div class="detail-item">
                        <div class="label"><i class="fas fa-wallet"></i>Available Balance</div>
                        <div class="value" id="profile-available-balance">0.00 VET</div>
                    </div>
                    <div class="detail-item">
                        <div class="label"><i class="fas fa-ad"></i>Ads Watched</div>
                        <div class="value" id="profile-ads-watched">0</div>
                    </div>
                    <div class="detail-item">
                        <div class="label"><i class="fas fa-dollar-sign"></i>Earning from Ads</div>
                        <div class="value" id="profile-earning-from-ads">0.00 VET</div>
                    </div>
                </div>
            </div>

            <div id="notifications-view" class="page-section">
                <ul class="notification-list" id="notification-list">
                    <li class="notification-item admin">
                        <div class="icon-container">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="content">
                            <h4>Admin Message</h4>
                            <p>Welcome to our earning app! Complete your first task to get a bonus reward.</p>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        
        <button class="refer-btn-floating" id="open-referral-modal-floating">
            <i class="fas fa-users"></i> Refer Now
        </button>
        
        <div id="referralModal" class="modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h3>Refer Your Friends!</h3>
                <p class="modal-subtitle" id="referral-modal-subtitle"></p>
                <div class="referral-link-box" id="referral-link"></div>
                <button class="copy-btn" id="copy-referral-link">Copy Link</button>
                <div class="share-buttons-group">
                    <button class="share-btn telegram" id="share-telegram-link"><i class="fab fa-telegram-plane"></i></button>
                    <button class="share-btn whatsapp" id="share-whatsapp-link"><i class="fab fa-whatsapp"></i></button>
                    <button class="share-btn facebook" id="share-facebook-link"><i class="fab fa-facebook-f"></i></button>
                </div>
                <div class="referral-count">
                    <p>You have referred: <span id="referred-users-count">0</span> people</p>
                </div>
            </div>
        </div>

        <div id="withdrawalSuccessModal" class="modal">
            <div class="modal-content">
                <span class="close-modal" id="close-withdrawal-modal">&times;</span>
                <div class="modal-icon" style="color: var(--blue-btn-bg); font-size: 3rem; margin-bottom: 20px;">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3 id="withdrawal-modal-title">Withdrawal Request Submitted!</h3>
                <p id="withdrawal-modal-message">Your withdrawal of <span id="withdrawal-amount-display"></span> VET has been sent and is currently pending. You will be notified when it's processed.</p>
            </div>
        </div>
        
        <nav class="bottom-nav">
            <a href="#" class="nav-item active" data-target="dashboard-view">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="#" class="nav-item" data-target="tasks-view">
                <i class="fas fa-tasks"></i>
                <span>Tasks</span>
            </a>
            <a href="#" class="nav-item" data-target="withdraw-view">
                <i class="fas fa-wallet"></i>
                <span>Withdraw</span>
            </a>
            <a href="#" class="nav-item" data-target="profile-view">
                <i class="fas fa-user"></i>
                <span>Profile</span>
            </a>
        </nav>
    </div>

    <script src='//libtl.com/sdk.js' data-zone='9711122' data-sdk='show_9711122'></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const getUrlParams = () => {
                const urlParams = new URLSearchParams(window.location.search);
                const name = urlParams.get('name');
                const id = urlParams.get('id');
                const photoUrl = urlParams.get('photo_url');
                return { 
                    username: name ? decodeURIComponent(name) : 'User',
                    telegramName: name ? decodeURIComponent(name) : 'Telegram Name',
                    telegramId: id ? id : 'default_user_id',
                    telegramPhoto: photoUrl ? decodeURIComponent(photoUrl) : null
                };
            };
            const params = getUrlParams();

            // --- DOM Elements ---
            const views = document.querySelectorAll('.page-section');
            const pageTitle = document.getElementById('page-title');
            const backBtn = document.getElementById('back-btn');
            const telegramNameDisplayEl = document.getElementById('telegram-name-display');
            const totalBalanceDisplayEl = document.getElementById('total-balance-display');
            const earningsDisplayElement = document.getElementById('total-earnings-display');
            const dailyAdsCountElement = document.getElementById('daily-ads-watched-count');
            const referralLinkElement = document.getElementById('referral-link');
            const openReferralModalBtn = document.getElementById('open-referral-modal'); 
            const openReferralModalBtnFloating = document.getElementById('open-referral-modal-floating');
            const modal = document.getElementById('referralModal');
            const closeModalBtn = document.querySelector('#referralModal .close-modal');
            const copyButton = document.getElementById('copy-referral-link');
            const referredUsersCountEl = document.getElementById('referred-users-count');
            const shareTelegramBtn = document.getElementById('share-telegram-link');
            const shareWhatsappBtn = document.getElementById('share-whatsapp-link');
            const shareFacebookBtn = document.getElementById('share-facebook-link');
            const referFloatingBtn = document.getElementById('open-referral-modal-floating');
            const totalTasksEl = document.getElementById('total-tasks');
            const completedTasksEl = document.getElementById('completed-tasks');
            const remainingTasksEl = document.getElementById('remaining-tasks');
            const progressBarEl = document.getElementById('task-progress');
            const startTaskBtn = document.getElementById('start-task-btn');
            const dailyTaskItems = document.querySelectorAll('.daily-task-item');
            const availableBalanceEl = document.getElementById('available-balance');
            const withdrawalMethodEl = document.getElementById('withdrawal-method');
            const amountInputEl = document.getElementById('amount');
            const idLabelEl = document.getElementById('id-label');
            const idInputEl = document.getElementById('id-input');
            const submitWithdrawalBtn = document.getElementById('submit-withdrawal');
            const profileUsernameEl = document.getElementById('profile-username');
            const profileTelegramNameEl = document.getElementById('profile-telegram-name');
            const profileTotalWithdrawalsEl = document.getElementById('profile-total-withdrawals');
            const profileAvailableBalanceEl = document.getElementById('profile-available-balance');
            const profileAdsWatchedEl = document.getElementById('profile-ads-watched');
            const profileEarningFromAdsEl = document.getElementById('profile-earning-from-ads');
            const notificationBadge = document.getElementById('notification-badge');
            const notificationBtn = document.getElementById('notification-btn');
            const notificationList = document.getElementById('notification-list');
            const withdrawalSuccessModal = document.getElementById('withdrawalSuccessModal');
            const withdrawalAmountDisplay = document.getElementById('withdrawal-amount-display');
            const closeWithdrawalModalBtn = document.getElementById('close-withdrawal-modal');
            const telegramLogoDashboard = document.getElementById('telegram-logo');
            const telegramLogoProfile = document.getElementById('profile-logo');

            let appData = {
                totalEarnings: 123.67,
                totalWithdrawals: 0,
                adsWatchedTotal: 50,
                earningsFromAds: 25.00,
                referredUsersCount: 15,
                totalTasks: 35,
                completedTasksToday: 0,
                lastAdWatchDate: null,
                notifications: [
                    { type: 'admin', message: 'Welcome to our earning app! Complete your first task to get a bonus reward.', timestamp: new Date().toISOString() }
                ]
            };

            const savedData = localStorage.getItem(`appData_${params.telegramId}`);
            if (savedData) {
                appData = JSON.parse(savedData);
            }

            const saveData = () => {
                localStorage.setItem(`appData_${params.telegramId}`, JSON.stringify(appData));
            };

            const updateUI = () => {
                const { totalEarnings, totalWithdrawals, adsWatchedTotal, earningsFromAds, referredUsersCount, completedTasksToday, totalTasks } = appData;
                
                // Set User Name and Logo
                telegramNameDisplayEl.textContent = params.telegramName;
                profileUsernameEl.textContent = params.username;
                profileTelegramNameEl.textContent = params.telegramName;
                if (params.telegramPhoto) {
                    telegramLogoDashboard.src = params.telegramPhoto;
                    telegramLogoProfile.src = params.telegramPhoto;
                }

                totalBalanceDisplayEl.textContent = `${totalEarnings.toFixed(2)} VET`;
                earningsDisplayElement.textContent = `${totalEarnings.toFixed(2)} VET`;
                dailyAdsCountElement.textContent = completedTasksToday;
                
                const remainingTasks = totalTasks - completedTasksToday;
                const progress = (completedTasksToday / totalTasks) * 100;
                totalTasksEl.textContent = totalTasks;
                completedTasksEl.textContent = completedTasksToday;
                remainingTasksEl.textContent = remainingTasks;
                progressBarEl.style.width = `${progress.toFixed(0)}%`;

                availableBalanceEl.textContent = `${totalEarnings.toFixed(2)} VET`;

                profileTotalWithdrawalsEl.textContent = `${totalWithdrawals.toFixed(2)} VET`;
                profileAvailableBalanceEl.textContent = `${totalEarnings.toFixed(2)} VET`;
                profileAdsWatchedEl.textContent = adsWatchedTotal;
                profileEarningFromAdsEl.textContent = `${earningsFromAds.toFixed(2)} VET`;
                
                referredUsersCountEl.textContent = referredUsersCount;
            };

            const switchView = (targetViewId) => {
                views.forEach(view => view.classList.remove('active'));
                const targetView = document.getElementById(targetViewId);
                if (targetView) {
                    targetView.classList.add('active');
                    
                    if (targetViewId === 'dashboard-view') {
                        pageTitle.textContent = 'Dashboard';
                        backBtn.style.display = 'none';
                    } else if (targetViewId === 'notifications-view') {
                        pageTitle.textContent = 'Notifications';
                        backBtn.style.display = 'block';
                        renderNotifications();
                        updateNotificationBadge();
                    } else {
                        pageTitle.textContent = targetViewId.charAt(0).toUpperCase() + targetViewId.slice(1, -5);
                        if(targetViewId === 'withdraw-view') pageTitle.textContent = 'Withdraw Funds';
                        backBtn.style.display = 'block';
                    }
                    
                    document.querySelectorAll('.nav-item').forEach(item => {
                        if (item.dataset.target === targetViewId) {
                            item.classList.add('active');
                        } else {
                            item.classList.remove('active');
                        }
                    });
                }
                toggleFloatingButton();
                updateUI();
            };
            
            const checkAndResetDailyTasks = () => {
                const today = new Date().toISOString().slice(0, 10);
                if (appData.lastAdWatchDate !== today) {
                    appData.completedTasksToday = 0;
                    appData.lastAdWatchDate = today;
                    saveData();
                }
            };
            checkAndResetDailyTasks();

            const renderNotifications = () => {
                notificationList.innerHTML = '';
                if (appData.notifications.length === 0) {
                    notificationList.innerHTML = '<li style="text-align: center; color: #888;">No new notifications.</li>';
                    return;
                }
                appData.notifications.forEach(notification => {
                    const li = document.createElement('li');
                    li.classList.add('notification-item');
                    let icon, title, message, statusBadge = '';
                    if (notification.type === 'withdrawal') {
                        li.classList.add('withdrawal');
                        icon = '<i class="fas fa-wallet"></i>';
                        title = `Withdrawal Request: ${notification.amount.toFixed(2)} VET`;
                        message = `Your request to withdraw ${notification.amount.toFixed(2)} VET to ${notification.method} is currently ${notification.status}.`;
                        const statusClass = notification.status === 'pending' ? 'status-pending' : 'status-confirmed';
                        const badgeText = notification.status === 'pending' ? 'Pending' : 'Confirmed';
                        statusBadge = `<span class="status-badge ${statusClass}">${badgeText}</span>`;
                    } else if (notification.type === 'admin') {
                        li.classList.add('admin');
                        icon = '<i class="fas fa-envelope"></i>';
                        title = 'Admin Message';
                        message = notification.message;
                    }
                    li.innerHTML = `
                        <div class="icon-container">${icon}</div>
                        <div class="content">
                            <h4>${title}</h4>
                            <p>${message}</p>
                            ${statusBadge}
                        </div>
                    `;
                    notificationList.appendChild(li);
                });
            };

            const updateNotificationBadge = () => {
                const pendingCount = appData.notifications.filter(n => n.type === 'withdrawal' && n.status === 'pending').length;
                if (pendingCount > 0) {
                    notificationBadge.textContent = pendingCount;
                    notificationBadge.style.display = 'block';
                } else {
                    notificationBadge.style.display = 'none';
                }
            };

            const toggleFloatingButton = () => {
                const currentView = document.querySelector('.page-section.active').id;
                if (currentView === 'dashboard-view') {
                    referFloatingBtn.style.display = 'none';
                } else {
                    referFloatingBtn.style.display = 'flex';
                }
            };

            document.querySelectorAll('[data-target]').forEach(element => {
                element.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchView(e.currentTarget.dataset.target);
                });
            });

            backBtn.addEventListener('click', () => switchView('dashboard-view'));
            notificationBtn.addEventListener('click', () => switchView('notifications-view'));

            startTaskBtn.addEventListener('click', () => {
                if (appData.completedTasksToday < appData.totalTasks) {
                    startTaskBtn.disabled = true;
                    startTaskBtn.innerHTML = 'Loading Ad... <i class="fas fa-spinner fa-spin"></i>';
                    
                    const finishTask = () => {
                        appData.completedTasksToday++;
                        appData.adsWatchedTotal++;
                        appData.totalEarnings += 0.50;
                        appData.earningsFromAds += 0.50;
                        saveData();
                        updateUI();
                        startTaskBtn.disabled = false;
                        startTaskBtn.innerHTML = 'Start Task <i class="fas fa-play-circle"></i>';
                    };
                    
                    if (typeof show_9711122 === 'function') {
                        show_9711122().then(finishTask).catch(() => {
                            console.error('Monetag ad failed to load. Simulating task completion.');
                            finishTask();
                        });
                    } else {
                        console.warn('Monetag ad function not found. Simulating task completion.');
                        setTimeout(finishTask, 2000);
                    }
                } else {
                    alert('All ad tasks for today have been completed!');
                }
            });

            dailyTaskItems.forEach(item => {
                const verifyBtn = item.querySelector('.action-button.verify');
                verifyBtn.addEventListener('click', () => {
                    alert('Verification request sent. Please wait for confirmation.');
                    setTimeout(() => {
                        verifyBtn.classList.add('verified');
                        verifyBtn.textContent = 'Verified';
                        verifyBtn.disabled = true;
                    }, 1500);
                });
            });

            openReferralModalBtn.addEventListener('click', () => modal.style.display = 'flex');
            openReferralModalBtnFloating.addEventListener('click', () => modal.style.display = 'flex');
            closeModalBtn.addEventListener('click', () => modal.style.display = 'none');
            window.addEventListener('click', (event) => {
                if (event.target === modal) modal.style.display = 'none';
            });

            copyButton.addEventListener('click', () => {
                const link = referralLinkElement.textContent;
                navigator.clipboard.writeText(link).then(() => {
                    alert('Referral link copied to clipboard!');
                }).catch(err => {
                    alert('Failed to copy the link. Please try again.');
                    console.error('Copy failed', err);
                });
            });

            const botUsername = 'MoneyVerseX_Bot';
            const referralLink = `https://t.me/${botUsername}?start=${params.telegramId}`;
            referralLinkElement.textContent = referralLink;
            const shareMessage = `Join my earning app and start earning money! My referral link: ${referralLink}`;
            shareTelegramBtn.addEventListener('click', () => window.open(`https://t.me/share/url?url=${encodeURIComponent(referralLink)}&text=${encodeURIComponent(shareMessage)}`, '_blank'));
            shareWhatsappBtn.addEventListener('click', () => window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(shareMessage)}`, '_blank'));
            shareFacebookBtn.addEventListener('click', () => window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(referralLink)}&quote=${encodeURIComponent(shareMessage)}`, '_blank'));
            
            withdrawalMethodEl.addEventListener('change', (e) => {
                const method = e.target.value;
                const idPlaceholders = {
                    'Binance': 'Enter Binance ID',
                    'Tron': 'Enter Tron Address',
                    'USDT': 'Enter USDT Address'
                };
                idLabelEl.textContent = `${method} ID`;
                idInputEl.placeholder = idPlaceholders[method];
            });

            submitWithdrawalBtn.addEventListener('click', () => {
                const method = withdrawalMethodEl.value;
                const amount = parseFloat(amountInputEl.value);
                const id = idInputEl.value;
                
                if (isNaN(amount) || amount <= 0 || !id) {
                    alert('Please fill out all the fields correctly.');
                    return;
                }
                
                if (amount > appData.totalEarnings) {
                    alert('Insufficient balance.');
                    return;
                }

                appData.totalEarnings -= amount;
                appData.totalWithdrawals += amount;
                appData.notifications.unshift({ type: 'withdrawal', amount, method, status: 'pending', timestamp: new Date().toISOString() });
                saveData();

                withdrawalAmountDisplay.textContent = amount;
                withdrawalSuccessModal.style.display = 'flex';
                
                setTimeout(() => { withdrawalSuccessModal.style.display = 'none'; }, 3000);
                
                updateUI();
                updateNotificationBadge();
                
                amountInputEl.value = '';
                idInputEl.value = '';
            });

            closeWithdrawalModalBtn.addEventListener('click', () => withdrawalSuccessModal.style.display = 'none');
            
            updateUI();
            updateNotificationBadge();
            const referralBonusPercentage = 10;
            document.getElementById('referral-bonus-text').textContent = `Invite your friends and get a ${referralBonusPercentage}% bonus on their earnings!`;
            document.getElementById('referral-modal-subtitle').textContent = `Get a ${referralBonusPercentage}% bonus when your friends earn.`;
        });
    </script>
</body>
</html>
